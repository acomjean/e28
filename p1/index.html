<!doctype html>
<html lang='en'>

<head>
    <title>Vue.js P1 </title>
    <meta charset='utf-8'>
    <link href=data:, rel=icon>

    <script src='https://unpkg.com/vue@next' defer></script>
    <script src='script.js' defer></script>

    <style>
        [v-cloak] {
            display: none
        }

        /* Tables from https://css-tricks.com/complete-guide-table-element/ */
        table {
            border-collapse: collapse;
        }

        td,
        th {
            border: 1px solid #999;
            padding: 0.5rem;
            text-align: left;
        }

        table tbody tr:nth-child(2n) td {
            background: #D4D8F9;
        }
    </style>

</head>

<body>
    <h1>Prisoners Dilema </h1>


    <div id='app' v-cloak>

        <div v-if='gameState == "beginning"'>
            <h2> Prisoner's Dilema Gane</h2>
            <label>What is your name: <input type='text' v-model='name' v-on:keyup.enter='startGame'> </label>
            <button v-on:click='startGame'>Start Game</button>
        </div>




        <div v-if='gameState == "started"' id='game-history'>
            <button v-on:click='startGame'>Start Game</button>

            <h2> Prisoners Dilema</a>






                <button v-on:click='takeTurn("C")' id='cooperateButton' class="gameButton">Cooperate</button>
                <button v-on:click='takeTurn("D")' id='deffectButton' class="gameButton"> Defect (Don't
                    Cooperate)</button>

                <h2>Round History</h2>

                <!-- Loop through and display Turn History-->



                <table v-if='gameDetails.length>=1'>
                    <thead>
                        <tr>
                            <th>Turn</th>
                            <th>Your Move</th>
                            <th>Computer Move</th>
                            <th>Your Score</th>
                            <th>Computer Score</th>
                            <th>Your Game Score</th>
                            <th>Computer Game Score</th>

                        </tr>
                    </thead>
                    <tbody>

                        <!-- Tables are a exception for components...-->

                        <tr v-is="'turn-detail'" v-for='oneTurn in gameDetails' v-bind:key='oneTurn.number'
                            v-bind:turn='oneTurn.turn' v-bind:human-move='oneTurn.humanMove'
                            v-bind:computer-move='oneTurn.computerMove' v-bind:human-turn-score='oneTurn.humanTurnScore'
                            v-bind:computer-turn-score='oneTurn.computerTurnScore'
                            v-on:goback-round='goBackToRound($event)'>
                        </tr>
                    </tbody>
                </table>

        </div>


        <div v-if='gameState == "gameOver"' id='game-results'>


            <h2>GameOver</h2>



        </div>


    </div>





    <!--  COMPONENTS --->


    <script id='turn-detail' type='text/x-template'>
             <tr>
                <td>Turn #: {{ turn }}</td>
                <td>Your Move: {{ humanMove }}</td>
                <td>Computer Move: {{ computerMove }}</td>
                <td>Your Score: {{ humanTurnScore }}</td>
                <td>Computer score: {{ computerTurnScore }}</td>
                <td><button v-on:click='$emit("goback-round", turn)'>Start over from this round</button></td>
            
            </tr>
    </script>


</body>

</html>